<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Strona poświęcona grze League of Legends, zawierająca galerię bohaterów i system ocen">
    <title>League of Legends</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Update Font Awesome to newer version with integrity hash -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Add favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo">
                <img src="logo.png" alt="League of Legends Logo" width="150" height="50">
            </a>
            <ul>
                <li><a href="#about" aria-label="Informacje o grze">O grze</a></li>
                <li><a href="#gallery" aria-label="Galeria bohaterów">Galeria</a></li>
                <li><a href="#stats" aria-label="Statystyki gry">Statystyki</a></li>
                <li><a href="ligusia.html" aria-label="Strona z głosowaniem">Głosowanie</a></li>
            </ul>
            <button class="mobile-toggle" aria-label="Menu mobilne">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>
    
    <main>
        <section class="hero">
            <div class="slogan">
                <h1>Witaj w świecie League of Legends</h1>
                <p>Odkryj magię najpopularniejszej gry MOBA na świecie</p>
            </div>
        </section>

        <section id="about" class="about section-padding">
            <div class="container">
                <h2>O grze League of Legends</h2>
                <p>League of Legends to dynamiczna gra typu MOBA (Multiplayer Online Battle Arena), w której drużyny składające się z potężnych bohaterów, każdy o unikalnych umiejętnościach, walczą o kontrolę nad mapą i zniszczenie wrogiego Nexusa.</p>
            </div>
        </section>

        <section id="gallery" class="gallery section-padding">
            <div class="container">
                <h2>Galeria Bohaterów</h2>
                <p>Poznaj najbardziej popularne postacie ze świata League of Legends.</p>
            </div>
            <div class="slideshow-container">
                <div class="slide fade" data-hero="Veigar">
                    <img src="Veigar.jpg" alt="Veigar - Mistrz Mrocznej Magii" width="800" height="500">
                    <div class="caption">
                        <h3>Veigar</h3>
                        <p>Mistrz Mrocznej Magii</p>
                    </div>
                    <div class="rating-opinions" id="Veigar-info"></div>
                </div>
                <div class="slide fade" data-hero="Lulu">
                    <img src="Lulu.jpg" alt="Lulu - Wróżkowa Czarodziejka" width="800" height="500">
                    <div class="caption">
                        <h3>Lulu</h3>
                        <p>Wróżkowa Czarodziejka</p>
                    </div>
                    <div class="rating-opinions" id="Lulu-info"></div>
                </div>
                <div class="slide fade" data-hero="Malphite">
                    <img src="Malphite.jpg" alt="Malphite - Odłamek Monolitu" width="800" height="500">
                    <div class="caption">
                        <h3>Malphite</h3>
                        <p>Odłamek Monolitu</p>
                    </div>
                    <div class="rating-opinions" id="Malphite-info"></div>
                </div>
                
                <!-- Navigation buttons -->
                <button class="prev" aria-label="Poprzedni slajd">&#10094;</button>
                <button class="next" aria-label="Następny slajd">&#10095;</button>
                
                <!-- Dots/circles for navigation -->
                <div class="dots-container">
                    <span class="dot" onclick="currentSlide(0)" aria-label="Pierwszy slajd"></span>
                    <span class="dot" onclick="currentSlide(1)" aria-label="Drugi slajd"></span>
                    <span class="dot" onclick="currentSlide(2)" aria-label="Trzeci slajd"></span>
                </div>
            </div>
        </section>
        
        <section id="stats" class="stats section-padding">
            <div class="container">
                <h2>Statystyki gry</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>180 mln+</h3>
                        <p>Miesięcznych graczy</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-gamepad"></i>
                        <h3>150+</h3>
                        <p>Bohaterów do wyboru</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-globe"></i>
                        <h3>120+</h3>
                        <p>Krajów</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <p>&copy; 2025 League of Legends. Wszelkie prawa zastrzeżone.</p>
                    <p>Aktualna data: <span id="current-date">2025-03-17</span></p>
                </div>
                <div class="social-links">
                    <a href="https://facebook.com/leagueoflegends" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="https://twitter.com/leagueoflegends" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="https://instagram.com/leagueoflegends" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Update current date
            const currentDateElement = document.getElementById("current-date");
            if (currentDateElement) {
                const today = new Date();
                const formattedDate = today.toISOString().split('T')[0];
                currentDateElement.textContent = formattedDate;
            }
            
            // Slideshow functionality
            let slideIndex = 0;
            const slides = document.querySelectorAll(".slide");
            const dots = document.querySelectorAll(".dot");
            const prevButton = document.querySelector(".prev");
            const nextButton = document.querySelector(".next");
            
            function showSlide(n) {
                // Reset slideIndex if it's out of bounds
                if (n >= slides.length) slideIndex = 0;
                if (n < 0) slideIndex = slides.length - 1;
                
                // Hide all slides
                slides.forEach(slide => slide.style.display = "none");
                
                // Remove active class from all dots
                dots.forEach(dot => dot.classList.remove("active"));
                
                // Show current slide and activate corresponding dot
                slides[slideIndex].style.display = "block";
                dots[slideIndex].classList.add("active");
                
                // Update hero info
                updateHeroInfo(slides[slideIndex].getAttribute("data-hero"));
            }
            
            function nextSlide() {
                showSlide(slideIndex + 1);
            }
            
            function prevSlide() {
                showSlide(slideIndex - 1);
            }
            
            // Set up event listeners for manual navigation
            if (prevButton) prevButton.addEventListener("click", () => {
                slideIndex--;
                showSlide(slideIndex);
            });
            
            if (nextButton) nextButton.addEventListener("click", () => {
                slideIndex++;
                showSlide(slideIndex);
            });
            
            // Function to handle dot navigation
            window.currentSlide = function(n) {
                slideIndex = n;
                showSlide(slideIndex);
            }
            
            // Auto slideshow
            function autoSlide() {
                slideIndex++;
                showSlide(slideIndex);
                setTimeout(autoSlide, 5000); // Change slide every 5 seconds
            }
            
            // Start slideshow
            showSlide(slideIndex);
            setTimeout(autoSlide, 5000);
            
            // Mobile menu toggle
            const mobileToggle = document.querySelector(".mobile-toggle");
            const navMenu = document.querySelector("nav ul");
            
            if (mobileToggle && navMenu) {
                mobileToggle.addEventListener("click", () => {
                    navMenu.classList.toggle("show");
                });
            }
            
            // Load ratings and opinions
            loadRatingsAndOpinions();
            
            // Listen for changes from the voting page
            window.addEventListener("storage", loadRatingsAndOpinions);
        });
        
        function updateHeroInfo(hero) {
            const ratings = JSON.parse(localStorage.getItem("ratings")) || {};
            const opinions = JSON.parse(localStorage.getItem("opinions")) || {};
            let avgScore = ratings[hero] ? (ratings[hero].reduce((a, b) => a + b, 0) / ratings[hero].length).toFixed(1) : "Brak ocen";
            let opinionsText = "";
            
            if (opinions[hero] && opinions[hero].length > 0) {
                // Display only the last 3 opinions
                const recentOpinions = opinions[hero].slice(-3);
                opinionsText = recentOpinions.map(op => `<li>${op}</li>`).join("");
            } else {
                opinionsText = "<li>Brak opinii</li>";
            }
            
            let infoContainer = document.getElementById(`${hero}-info`);
            if (infoContainer) {
                infoContainer.innerHTML = `
                    <div class="hero-rating">
                        <p><strong>Średnia ocena:</strong> <span class="score">${avgScore}</span>/10</p>
                        <p><strong>Opinie (ostatnie 3):</strong></p>
                        <ul class="opinions-list">${opinionsText}</ul>
                        <a href="ligusia.html" class="rate-button">Oceń ${hero}</a>
                    </div>
                `;
            }
        }
        
        function loadRatingsAndOpinions() {
            const slides = document.querySelectorAll(".slide");
            slides.forEach(slide => {
                updateHeroInfo(slide.getAttribute("data-hero"));
            });
        }
    </script>
</body>
</html>
